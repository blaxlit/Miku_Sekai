{% extends 'base.html' %}
{% block content %}
<div class="flex justify-between items-center mb-6 mt-4">
    <h1 class="text-3xl font-bold text-teal-600">‡∏Ñ‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á Miku Sekai üéµ</h1>
    {% if current_user.is_authenticated %}
        <a href="/songs/add" class="btn bg-teal-500 hover:bg-teal-600 border-none text-white">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏´‡∏°‡πà</a>
    {% endif %}
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for song in songs %}
    <div class="card bg-white shadow-xl rounded-box">
        <div class="card-body">
            <h2 class="card-title text-teal-500">{{ song.title }}</h2>
            <p class="text-gray-600">‡πÇ‡∏î‡∏¢: <span class="font-semibold">{{ song.producer }}</span></p>
            {% if song.youtube_url %}
            <div class="card-actions justify-end mt-4">
                <a href="/song/{{ song.id }}" class="btn btn-sm bg-teal-50 text-teal-600 hover:bg-teal-100 border-none">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
                {% if song.youtube_url %}
                <a href="{{ song.youtube_url }}" target="_blank" class="btn btn-sm btn-outline text-teal-600 border-teal-600 hover:bg-teal-600 hover:border-teal-600 hover:text-white">YouTube</a>
                {% endif %}
            </div>

            {% if current_user.is_authenticated and current_user.role == 'admin' %}
            <div class="card-actions justify-end mt-2 pt-2 border-t border-gray-100">
                <a href="/songs/edit/{{ song.id }}" class="btn btn-xs btn-warning">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                <form action="/songs/delete/{{ song.id }}" method="POST" class="inline">
                    <button type="submit" class="btn btn-xs btn-error text-white" onclick="return confirm('‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏û‡∏•‡∏á‡∏ô‡∏µ‡πâ?');">‡∏•‡∏ö</button>
                </form>
            </div>
            {% endif %}
        </div>
    </div>
    {% else %}
    <div class="col-span-full text-center py-10 text-gray-500">
        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏¢ ‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏£‡∏Å‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!
    </div>
    {% endfor %}
</div>
{% endblock %}